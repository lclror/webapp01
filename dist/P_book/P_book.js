(function(e){typeof define=="function"&&define.amd?define("add",[""],e):e(jQuery)})(function(){$.fn.addModule=function(e,t,n,r){var t=new n(r);e.children(t.id).length==0?(e.append(t.html),setTimeout(function(){t.main(),t.render()},9)):setTimeout(function(){t.main(),t.render()},9)}}),function(e){typeof define=="function"&&define.amd?(requirejs.config({paths:{add:"../tools/addmodule"}}),define("G_booklist",["add"],e)):e(jQuery)}(function(){function e(t){this.html='<section id="booklist">	<ul class="inFLeft rows-count-3-gap-3 ">		<li>			<img src="../P_book/img/book01.jpg"/>			<dt>满月之夜白鲸现</dt>			<dl>片山恭一</dl>			<dl>￥ 12.00</dl>			<a href="#">查看详情</a>			<p>那一年，是听莫扎特、钓鲈鱼和家庭破裂的一年。说到家庭破裂，母亲怪自己当初没有			找到好男人，父亲则认为当时是被狐狸精迷住了眼，失常的是母亲，但出问题的是父亲……。</p>		</li>		<li>			<img src="../P_book/img/book01.jpg"/><dt>满月之夜白鲸现</dt><dl>片山恭一</dl>			<dl>￥ 12.00</dl>			<a href="#">查看详情</a>			<p>那一年，是听莫扎特、钓鲈鱼和家庭破裂的一年。说到家庭破裂，母亲怪自己当初没有			找到好男人，父亲则认为当时是被狐狸精迷住了眼，失常的是母亲，但出问题的是父亲……。</p>		</li>		<li>			<img src="../P_book/img/book01.jpg"/><dt>满月之夜白鲸现</dt><dl>片山恭一</dl>			<dl>￥ 12.00</dl>			<a href="#">查看详情</a>			<p>那一年，是听莫扎特、钓鲈鱼和家庭破裂的一年。说到家庭破裂，母亲怪自己当初没有			找到好男人，父亲则认为当时是被狐狸精迷住了眼，失常的是母亲，但出问题的是父亲……。</p>		</li>	</ul></section>',this.id="#booklist",this.opts=$.extend({},e.STATE,t)}return e.STATE={},e.prototype.main=function(){var e=this.opts,t=this},e.prototype.render=function(){var e=this.opts},e}),function(e){typeof define=="function"&&define.amd?(requirejs.config({paths:{add:"../tools/addmodule"}}),define("G_search",["add"],e)):e(jQuery)}(function(){function e(t){this.html='<div id="search"><input class="form-input" type="text"><a>search</a></div>',this.id="#search",this.opts=$.extend({},e.STATE,t)}return e.STATE={},e.prototype.main=function(){var e=this.opts,t=this,n=$("#search>a").attr("href"),r=$("#search>input");r.blur(function(){var e=r.val(),t=n+e;$("#search>a").attr("href",t)}),r.focus(function(e){$("body").keydown(function(e){if(e.keyCode==13){var t=r.val(),i=n+t;window.location.href=i}})})},e.prototype.render=function(){var e=this.opts},e}),function(e){typeof define=="function"&&define.amd?(requirejs.config({paths:{add:"../tools/addmodule"}}),define("G_login",["add"],e)):e(jQuery)}(function(e){function t(e){this.html='<section id="login">	<div class="myleft inFLeft">		<a href="" class="a5 ">回到首页</a>		<a href="" class="a5 hide">录入新图书</a>		<a href="" class="a5 hide">图书管理</a>	</div>	<div class="myright inFLeft marright1">		<a  class="a1">登录</a>		<a  class="a2">注册</a>		<a  class="a3 hide">欢迎</a>		<a  class="a4 hide">注销</a>	</div>	<div id="login_block" class="hide">	<h1>movie 后台管理登陆</h1>	<form>		<label for="">账号:</label><input type="text" placeholder="username" class="form-input"/><br/>		<label for="">密码:</label><input type="password" placeholder="password" class="form-input"/><br/>		<button class="btn-opacity" type="button">login</button>	</form>	</div>	<div id="sign_block" class="hide">	<h1>用户注册</h1>	<form>		<label for="">账号:</label><input type="text" placeholder="username" class="form-input"/><br/>		<label for="">密码:</label><input type="password" placeholder="password" class="form-input"/><br/>		<label for="">密码:</label><input type="password" placeholder="password" class="form-input"/><br/>		<button class="btn-opacity" type="button">login</button>	</form>	</div></section>',this.id="#login",this.opts=$.extend({},t.STATE,e)}return t.STATE={},t.prototype.main=function(){var e=this.opts,t=this;$("#login a.a1").click(function(e){e.stopPropagation(),$("#login>#login_block").removeClass("hide")}),$("#login a.a2").click(function(e){e.stopPropagation(),$("#login>#sign_block").removeClass("hide")}),$("body").click(function(e){$("#login>#login_block,#login>#sign_block").addClass("hide")}),$("#login>#login_block,#login>#sign_block").click(function(e){e.stopPropagation()}),$("#login>#login_block>form>button").click(function(e){var t=$(this).siblings("input"),n=t.eq(0).val(),r=t.eq(1).val();$.post("/ajax/book/adminlogin",{name:n,pass:r},function(e){e.status=="err"?alert("账号或密码错误"):(alert("success"),window.location.reload())},"json")}),$("#login a.a4").click(function(e){$.post("/ajax/book/logout",[],function(e){e.status=="success"&&window.location.reload()},"json")}),$(window).scroll(function(e){var t=$(window).scrollTop();t>50?$("#login").addClass("test"):$("#login").removeClass("test")}),$("#login>#sign_block>form>button").click(function(e){var t=$(this).siblings("input"),n=t.eq(0).val(),r=t.eq(1).val(),i=t.eq(2).val();r!=i?alert("两次密码不一致"):n==""||r==""||i==""?alert("不能留空"):$.post("/ajax/book/sign",{name:n,pass:i},function(e){if(e.status=="err")alert("账号已经注册");else{var t=e.href;alert("注册成功，请重新登陆"),window.location.reload()}},"json")})},t.prototype.render=function(){var e=this.opts},t}),function(e){typeof define=="function"&&define.amd?(requirejs.config({paths:{add:"../tools/addmodule"}}),define("G_lunbo",["add"],e)):e(jQuery)}(function(){function e(t){this.html='<div id="lunbo">           <ul class="">              <i class="kkleft myleft"></i> <i class="kkright myright"></i>           </ul>           <ul class="inFLeft">              <span></span>              <span></span>              <span></span>              <span></span>              <span></span>           </ul>           <ul id="sport" class="inFLeft">              <a><div>活动页面 one  <br/>Please insert the activity page</div></a>              <a><div>活动页面 two  <br/>Please insert the activity page</div></a>              <a><div>活动页面 three<br/>Please insert the activity page</div></a>              <a><div>活动页面 four <br/>Please insert the activity page</div></a>              <a><div>活动页面 five <br/>Please insert the activity page</div></a>           </ul> </div>',this.id="#lunbo",this.opts=$.extend({},e.STATE,t)}return e.STATE={},e.prototype.main=function(){var e=this.opts,t=this,n=0;$("#lunbo span").click(function(e){e.stopPropagation();var t=$("#lunbo span").index(this),r="-"+t+"00%";$("#sport").animate({left:r},500),n=t,$(this).addClass("lunbospanh").siblings().removeClass("lunbospanh")}),$("#lunbo i:last").click(function(e){e.stopPropagation(),$("#sport").is(":animated")||(n+=1,n>4&&(n=0),$("#lunbo span").eq(n).trigger("click"))}),$("#lunbo i:first").click(function(e){$("#sport").is(":animated")||(n-=1,n<0&&(n=4),$("#lunbo span").eq(n).trigger("click"))});var r;$("#lunbo i:first, #lunbo i:last, #lunbo span").hover(function(){clearInterval(r)},function(){r=setInterval(function(){$("#lunbo i:last").trigger("click")},4e3)}),r=setInterval(function(){$("#lunbo i:last").trigger("click")},4e3)},e.prototype.render=function(){var e=this.opts},e}),function(e){typeof define=="function"&&define.amd?(requirejs.config({paths:{add:"../tools/addmodule",G_booklist:"../P_book/G_booklist",G_search:"../G_search/G_search",G_login:"../G_login/G_login",G_lunbo:"../G_lunbo/G_lunbo"}}),define("P_book",["add","G_booklist","G_search","G_login","G_lunbo"],e)):e(jQuery)}(function(e,t,n,r,i){function s(e){this.html="",this.id="#P_book",this.opts=$.extend({},s.STATE,e)}s.STATE={},s.prototype.main=function(){var e=this.opts,t=this},s.prototype.render=function(){var e=this.opts},$.fn.addModule($("body"),"P_book",s),$.fn.addModule($("#insert_booklist"),"G_booklist",t),$.fn.addModule($("#insert_search"),"G_search",n),$.fn.addModule($("#insert_login"),"G_login",r),$.fn.addModule($("#insert_lunbo"),"G_lunbo",i)});