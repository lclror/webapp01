function populateN(e,t){function p(e,o){i[e].find(s[e]).toArray(function(i,s){for(var f in a[e]){var l=a[e][f];for(var c in s){var p=s[c],d=p[h[e]];l==d&&(n[f][r[e]]=p)}}e==u-1?t(n):o()})}var n=e.P_result,r=e.key,i=e.ref,s=e.ref_query_key||[0],o=e.coll_find,u=i.length,a=[];for(var f in r){a.push([]);for(var l in n){var c=n[l][r[f]];a[f].push(c)}}var h=[];for(var l=0;l<u;l++)if(s[l]==0||s[l]==null)h.push("_id"),s[l]={_id:{$in:a[l]}};else for(var f in s[l])h.push(f),s[l][f]={$in:a[l]};o(p)}exports.populateN=populateN;